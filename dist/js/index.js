!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o.r(e);var a,r,l=function t(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ToDo",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.id=Date.now(),this.name=e,this.toDoDate=o,this.state=a,this.isImportant=r};a=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],(r=document.getElementById("ToDoTable")).innerHTML='<thead> <tr><th class="pr-5" >ToDo </th><th class="pr-5"> Todo On date:</th><th class="pr-5">State :</th><th class="pr-5" >Change state</th><th class="pr-5"> Important</th><th class="pr-5"> Remove</th></tr></thead>',a.forEach((function(t,e){var o=r.insertRow(0),n=o.insertCell(0),a=o.insertCell(1),l=o.insertCell(2),s=o.insertCell(3),i=o.insertCell(4),c=o.insertCell(5);n.innerHTML=t.name,a.innerHTML=t.toDoDate,"ToDo"==t.state?(l.innerHTML='<span class="badge badge-warning">'.concat(t.state,"</span>"),s.innerHTML='<div class="dropdown"><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">State</button><div class="dropdown-menu"><button class="dropdown-item" id="D'.concat(t.id,'">Done</button></div></div>')):(l.innerHTML='<span class="badge  badge-success">'.concat(t.state,"</span>"),s.innerHTML='<div class="dropdown"><button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">State</button><div class="dropdown-menu"><button class="dropdown-item btn btn-primary "  id="T'.concat(t.id,'" >ToDo</button></div></div>')),i.innerHTML='<div class="custom-control custom-switch"><input type="checkbox" class="custom-control-input" id="customSwitch'.concat(t.id,'" ><label class="custom-control-label" for="customSwitch').concat(t.id,'"></label></div>'),document.getElementById("customSwitch"+t.id).checked=t.isImportant,c.innerHTML='<button type="button" class="btn btn-danger" id="rm'.concat(e,'">X</button>')})),document.getElementById("ToDoForm").addEventListener("submit",(function(t){t.preventDefault();var e=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],o=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[];o.unshift(e),localStorage.setItem("todolist_undo",JSON.stringify(o));var n=document.getElementById("toDoInput").value,a=document.getElementById("toDoDate").value;""==a&&(a="Not mentionned");var r=new l(n,a);e.push(r),localStorage.setItem("MyToDoList",JSON.stringify(e)),document.getElementById("ToDoForm").reset(),location.reload()})),function(){var t=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],e=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[];t.forEach((function(o,n){var a="rm"+n;document.getElementById(a).addEventListener("click",(function(){e.unshift(t),localStorage.setItem("todolist_undo",JSON.stringify(e)),t.splice(n,1),localStorage.setItem("MyToDoList",JSON.stringify(t)),location.reload()}))}))}(),function(){var t=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],e=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[];t.forEach((function(o){if("Done"==o.state){var n="T"+o.id;document.getElementById(n).addEventListener("click",(function(){e.unshift(t),localStorage.setItem("todolist_undo",JSON.stringify(e)),o.state="ToDo",localStorage.setItem("MyToDoList",JSON.stringify(t)),location.reload()}))}else{var a="D"+o.id;document.getElementById(a).addEventListener("click",(function(){e.unshift(t),localStorage.setItem("todolist_undo",JSON.stringify(e)),o.state="Done",localStorage.setItem("MyToDoList",JSON.stringify(t)),location.reload()}))}}))}(),function(){var t=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],e=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[];t.forEach((function(o){var n="customSwitch"+o.id,a=document.getElementById(n);a.addEventListener("change",(function(){e.unshift(t),localStorage.setItem("todolist_undo",JSON.stringify(e)),o.isImportant=a.checked,localStorage.setItem("MyToDoList",JSON.stringify(t)),location.reload()}))}))}(),document.getElementById("undo_btn").addEventListener("click",(function(t){t.preventDefault();var e=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],o=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[],n=JSON.parse(localStorage.getItem("todolist_redo"))?JSON.parse(localStorage.getItem("todolist_redo")):[];o&&o.length>0?(n.unshift(e),localStorage.setItem("todolist_redo",JSON.stringify(n)),localStorage.setItem("MyToDoList",JSON.stringify(o[0])),o.splice(0,1),localStorage.setItem("todolist_undo",JSON.stringify(o)),location.reload()):alert("there is no other step backward")})),document.getElementById("redo_btn").addEventListener("click",(function(t){t.preventDefault();var e=JSON.parse(localStorage.getItem("MyToDoList"))?JSON.parse(localStorage.getItem("MyToDoList")):[],o=JSON.parse(localStorage.getItem("todolist_undo"))?JSON.parse(localStorage.getItem("todolist_undo")):[],n=JSON.parse(localStorage.getItem("todolist_redo"))?JSON.parse(localStorage.getItem("todolist_redo")):[];n&&n.length>0?(o.unshift(e),localStorage.setItem("todolist_undo",JSON.stringify(o)),localStorage.setItem("MyToDoList",JSON.stringify(n[0])),n.splice(0,1),localStorage.setItem("todolist_redo",JSON.stringify(n)),location.reload()):alert("There is no other step forward")}))}]);